' Gambas class file

' State

' PosX: Horizontal position
Private posX As Float

' PosY: Vertical position
Private posY As Float

' Diameter: Diameter in px
Private diameter As Integer

' Color: Background color
Private circleColor As Integer

Private gravity As Float
Private speedX As Float
Private speedY As Float

' Behaviour

' Builder
Public Sub _new(x As Integer, y As Integer, d As Integer)

 posX = x
 posY = y
 diameter = d
 circleColor = Color.RGB(0, 0, 255)
 speedX = 3.0
 speedY = 3.0
 gravity = 0.5
End

' Paint a circle
Public Sub paintCircle(board As DrawingArea)
  
  Paint.Begin(board)
  Paint.Brush = Paint.Color(circleColor)
  Paint.Ellipse(posX, posY, diameter, diameter)
  Paint.Fill()
  Paint.End
  
End

' Move
Public Sub Move(board As DrawingArea)
  
  posX += speedX
  posY += speedY
  speedY += gravity

  ' Lateral walls
  
  If (posX + diameter > board.Width Or posX < 0) Then
    speedX *= -1
  Endif
  
  
  ' Floor
  If (posY + diameter > board.Height) Then
    speedY -= gravity
    speedY *= -1
    
  Endif
  
End


' Getters
' Get X
Public Function getX() As Integer
  
  Return posX
  
End

' Get Y
Public Function getY() As Integer
  
  Return posY
  
End

'Get side
Public Function getDiameter() As Integer

  Return diameter
  
End

'Get color
Public Function getColor() As Integer
 
  Return circleColor
 
End

' Get speed in Y
Public Function getSpeedY() As Float
  
  Return speedY
  
End

' Get speed in X
Public Function getSpeedX() As Float
  
  Return speedX
  
End

' Setters
' Set speed in Y
Public Sub setSpeedY(newSpeedY As Float)

  speedY = newSpeedY
  
End

' Set speed in X
Public Sub setSpeedX(newSpeedX As Float)

  speedX = newSpeedX
  
End
